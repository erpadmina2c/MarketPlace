{"version":3,"sources":["./src/app/views/approved-stocks/approved-stocks.component.html","./src/app/views/approved-stocks/approved-stocks-routing.module.ts","./src/app/views/approved-stocks/approved-stocks.component.css","./src/app/views/approved-stocks/approved-stocks.component.ts","./src/app/views/approved-stocks/approved-stocks.module.ts"],"names":[],"mappings":"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","file":"views-approved-stocks-approved-stocks-module.js","sourcesContent":["export default \"  <!--/.card-->\\n  <div class=\\\"row\\\" *ngIf=\\\"roleid !== 5\\\">\\n    <div class=\\\"col-md-12\\\">\\n      <div class=\\\"card\\\">\\n        <div class=\\\"card-body\\\">\\n          <br>\\n          <table datatable [dtTrigger]=\\\"dtTrigger\\\" [dtOptions]=\\\"dtOptions\\\" class=\\\"table table-striped\\\">\\n            <thead class=\\\"thead-light\\\">\\n              <tr>\\n                <th>Deal ID</th>\\n                <th>PO</th>\\n                <th>Detail</th>\\n                <th>Specification</th>\\n                <th>Stock Qty</th>\\n                <th>Stock Status</th>\\n                <th>Price</th>\\n                <th *ngIf=\\\"roleid === 1  || roleid===2\\\">Supplier</th>\\n                <th>Type</th>\\n                <th>Comment</th>\\n                <th>Modify Date</th>\\n                <th *ngIf=\\\"roleid === 4 || roleid === 2 || roleid === 6 || roleid === 7 || roleid === 8\\\">Action</th>\\n              </tr>\\n              </thead>\\n              <tbody>\\n                <tr *ngFor=\\\"let offer of offers; let i = index\\\">\\n                  <td>\\n                    <div>{{ offer.deal_id}}</div>\\n                    <div class=\\\"small text-muted\\\"><span>Ref</span> | {{ offer.requestID}} </div>\\n                  </td>\\n                  <td>{{ offer.ponum}}</td>\\n                  <td>\\n                    <div *ngIf=\\\"offer.makeName\\\" class=\\\"small text-muted\\\"><strong>Make: </strong>{{ offer.makeName}}</div>\\n                    <div *ngIf=\\\"offer.modelName\\\" class=\\\"small text-muted\\\"><strong>Model: </strong>{{ offer.modelName}}</div>\\n                    <div *ngIf=\\\"offer.processor\\\" class=\\\"small text-muted\\\"><strong>Processor: </strong>{{ offer.processor}}</div>\\n                  </td>\\n                  <td>\\n                    <div *ngIf=\\\"offer.ramname\\\" class=\\\"small text-muted\\\"><strong>HDD: </strong>{{ offer.ramname}}</div>\\n                    <div *ngIf=\\\"offer.hddname\\\" class=\\\"small text-muted\\\"><strong>RAM: </strong>{{ offer.hddname}}</div>\\n                    <div *ngIf=\\\"offer.adapter === 1\\\" class=\\\"small text-muted\\\"><strong>Adapter: </strong>Yes</div>\\n                    <div *ngIf=\\\"offer.adapter === 2\\\" class=\\\"small text-muted\\\"><strong>Adapter: </strong>No</div>\\n                  </td>\\n                  <td>\\n                    <div *ngIf=\\\"offer.appby\\\" class=\\\"small text-muted\\\"><strong>Approved Qty: </strong>{{ offer.qty}}</div>\\n                    <div *ngIf=\\\"offer.rejby\\\" class=\\\"small text-muted\\\"><strong>Rejected  Qty: </strong>{{ offer.qty}}</div>\\n                    <div *ngIf=\\\"offer.purchaseby\\\" class=\\\"small text-muted\\\"><strong>Purchased  Qty: </strong>{{ offer.purchaseqty}}</div>\\n                    <div *ngIf=\\\"offer.receiveby\\\" class=\\\"small text-muted\\\"><strong>Received  Qty: </strong>{{ offer.receiveqty}}</div>\\n                    <div *ngIf=\\\"offer.dispatchby\\\" class=\\\"small text-muted\\\"><strong>Dispatched  Qty: </strong>{{ offer.dispatchqty}}</div>\\n                  </td> \\n                  <td>\\n                    <div>\\n                        <div  class=\\\"small text-muted\\\" style=\\\"color: green!important;\\\">\\n                          <strong>Created by:</strong>\\n                          <span style=\\\"color:#222;font-style:italic;font-weight:bold;\\\"> {{offer.username}}</span>\\n                        </div>                        \\n                    </div>\\n                    <div *ngIf=\\\"offer.appby\\\">\\n                        <div  class=\\\"small text-muted\\\" style=\\\"color: green!important;\\\">\\n                          <strong>Approved by:</strong>\\n                          <span style=\\\"color:#222;font-style:italic;font-weight:bold;\\\"> {{offer.appby}}</span>\\n                        </div>                        \\n                    </div>\\n                    <div *ngIf=\\\"offer.rejby\\\">\\n                        <div  class=\\\"small text-muted\\\" style=\\\"color: red!important;\\\">\\n                          <strong>Rejected by:</strong>\\n                          <span style=\\\"color:#222;font-style:italic;font-weight:bold;\\\"> {{offer.rejby}}</span>\\n                        </div>\\n                    </div>\\n                    <div *ngIf=\\\"offer.purchaseby\\\">\\n                        <div  class=\\\"small text-muted\\\" style=\\\"color: green!important;\\\">\\n                          <strong>Purchased by:</strong>\\n                          <span style=\\\"color:#222;font-style:italic;font-weight:bold;\\\"> {{offer.purchaseby}}</span>\\n                        </div>\\n                    </div>\\n                    <div *ngIf=\\\"offer.poby\\\">\\n                        <div  class=\\\"small text-muted\\\" style=\\\"color: green!important;\\\">\\n                          <strong>PO updated by:</strong>\\n                          <span style=\\\"color:#222;font-style:italic;font-weight:bold;\\\"> {{offer.poby}}</span>\\n                        </div>\\n                    </div>\\n                    <div *ngIf=\\\"offer.receiveby\\\">\\n                        <div  class=\\\"small text-muted\\\" style=\\\"color: green!important;\\\">\\n                          <strong>Received by:</strong>\\n                          <span style=\\\"color:#222;font-style:italic;font-weight:bold;\\\"> {{offer.receiveby}}</span>\\n                        </div>\\n                    </div>\\n                    <div *ngIf=\\\"offer.dispatchby\\\">\\n                        <div  class=\\\"small text-muted\\\" style=\\\"color: green!important;\\\">\\n                          <strong>Dispatched by:</strong>\\n                          <span style=\\\"color:#222;font-style:italic;font-weight:bold;\\\"> {{offer.dispatchby}}</span>\\n                        </div>\\n                    </div>\\n                   </td>\\n                  <td>${{ offer.price }}</td>\\n                  <td *ngIf=\\\"roleid === 1  || roleid===2\\\">\\n                    <div *ngIf=\\\"offer.c_type === 1\\\">{{ offer.c_name }}</div>\\n                  </td>\\n                  <td>{{ offer.projectName }}</td>\\n                  <td>{{ offer.reason }}</td>\\n                  <td> {{offer.createdDate | date:'MMM d, y'}} </td>\\n                  <td *ngIf=\\\"roleid === 4 || roleid === 2 || roleid === 6 || roleid === 7 || roleid === 8\\\" id=\\\"Dealsoffer_{{offer.id}}\\\"> \\n                    <!-- <button *ngIf=\\\"offer.username=== this.LoginUser\\\" (click)=\\\"CloseDeals(offer.id,3,1,'Closed')\\\" class=\\\"btn btn-sm btn-danger\\\"  id=\\\"Closed_{{offer.id}}\\\" type=\\\"button\\\">\\n                      <i class=\\\"fa fa-check-circle-o fa-lg\\\"></i> Close\\n                    </button> -->\\n                    <button *ngIf=\\\"offer.username=== this.LoginUser && offer.qty !== offer.purchaseqty && offer.appby\\\" (click)=\\\"OpenUpdateDeals(offer.deal_id,offer.id,5,0,offer.qty-offer.purchaseqty)\\\" class=\\\"btn btn-sm btn-success\\\" id=\\\"Purchased_{{offer.id}}\\\" type=\\\"button\\\">\\n                      <i class=\\\"fa fa-check-circle-o fa-lg\\\"></i> Purchase\\n                    </button>\\n                    <button *ngIf=\\\"roleid=== 7 && offer.purchaseqty !== offer.receiveqty\\\" (click)=\\\"OpenUpdateDeals(offer.deal_id,offer.id,8,0,offer.purchaseqty-offer.receiveqty)\\\" class=\\\"btn btn-sm btn-info\\\" id=\\\"Received_{{offer.id}}\\\" type=\\\"button\\\">\\n                      <i class=\\\"fa fa-check-circle-o fa-lg\\\"></i> Receive\\n                    </button>\\n                    <button *ngIf=\\\"roleid=== 8 && !offer.dispatchby\\\" (click)=\\\"CloseDeals(offer.id,9,0,'Dispatched')\\\" class=\\\"btn btn-sm btn-info\\\" id=\\\"Dispatched_{{offer.id}}\\\" type=\\\"button\\\">\\n                      <i class=\\\"fa fa-check-circle-o fa-lg\\\"></i> Dispatch\\n                    </button>\\n                    <button *ngIf=\\\"roleid === 6 && !offer.ponum\\\" (click)=\\\"OpenPO(offer.id,offer.deal_id)\\\" class=\\\"btn btn-sm btn-info\\\" id=\\\"Pbutton_{{offer.id}}\\\" type=\\\"button\\\">\\n                      <i class=\\\"fa fa-check-circle-o fa-lg\\\"></i> Update PO\\n                    </button>\\n                    <!-- <button class=\\\"btn btn-sm btn-danger\\\"  type=\\\"reset\\\">\\n                      <i class=\\\"fa fa-close fa-lg\\\"></i> Re-Open\\n                    </button> -->\\n                  </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n        </div>\\n      </div>\\n    </div><!--/.col-->\\n  </div><!--/.row-->\\n  <div *ngIf=\\\"roleid === 5\\\">\\n    <div class=\\\"app flex-row align-items-center\\\">\\n      <div class=\\\"container\\\">\\n        <div class=\\\"row justify-content-center\\\">\\n          <div class=\\\"col-md-6\\\">\\n            <div class=\\\"clearfix\\\">\\n              <h1 class=\\\"float-left display-3 mr-4\\\">404</h1>\\n              <h4 class=\\\"pt-3\\\">Oops! You're lost.</h4>\\n              <p class=\\\"text-muted\\\">The page you are looking for was not found.</p>\\n            </div>\\n            <div class=\\\"input-prepend input-group\\\">\\n              <div class=\\\"input-group-prepend\\\">\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>  \\n  </div>\\n  <div bsModal #UpdateDealModal=\\\"bs-modal\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\" id=\\\"myModal\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-info\\\" role=\\\"document\\\">\\n    <form  #shareForm=\\\"ngForm\\\"  (ngSubmit)=\\\"UpdateDealPost()\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h4 class=\\\"modal-title\\\">Update</h4>\\n          <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"UpdateDealModal.hide()\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">    \\n          <div class=\\\"card\\\">\\n              <div class=\\\"card-body\\\">\\n                <div class=\\\"form-group\\\">\\n                  <div class=\\\"input-group row\\\">\\n                    <label style=\\\"padding: 8px\\\" class=\\\"col-md-4\\\">Deal ID</label>                    \\n                    <input type=\\\"hidden\\\" id=\\\"Id\\\" name=\\\"Id\\\"  [(ngModel)]=\\\"udmodel.Id\\\"  class=\\\"form-control\\\" disabled>\\n                    <input type=\\\"hidden\\\" id=\\\"Status\\\" name=\\\"Status\\\"  [(ngModel)]=\\\"udmodel.Status\\\"  class=\\\"form-control\\\" disabled>\\n                    <input type=\\\"hidden\\\" id=\\\"cQty\\\" name=\\\"cQty\\\"  [(ngModel)]=\\\"udmodel.cQty\\\"  class=\\\"form-control\\\" disabled>\\n                    <input type=\\\"text\\\" id=\\\"ReqNo1\\\" name=\\\"ReqNo1\\\"  [(ngModel)]=\\\"udmodel.ReqNo1\\\"  class=\\\"form-control\\\" disabled>\\n                  </div>\\n                </div>                 \\n                  <div class=\\\"form-group\\\">\\n                    <div class=\\\"input-group row\\\">                    \\n                      <label style=\\\"padding: 7px\\\"  class=\\\"col-md-4\\\">Qty</label>\\n                      <input type=\\\"number\\\" id=\\\"Qty\\\" name=\\\"Qty\\\" [(ngModel)]=\\\"udmodel.Qty\\\"  class=\\\"form-control\\\" placeholder=\\\"Qty\\\">\\n                    </div>\\n                  </div> \\n              </div>\\n            </div>      \\n        </div>\\n        <div class=\\\"modal-footer\\\">\\n          <!-- <button type=\\\"button\\\" class=\\\"btn btn-sm btn-secondary\\\" (click)=\\\"shareModal.hide()\\\">Close</button>         -->\\n          <button type=\\\"submit\\\" class=\\\"btn btn-sm btn-success\\\" id=\\\"UDButton\\\">Update</button>\\n        </div>\\n      </div><!-- /.modal-content -->\\n    </form>\\n    </div><!-- /.modal-dialog -->\\n  </div><!-- /.modal -->\\n  <div bsModal #poModal=\\\"bs-modal\\\" class=\\\"modal fade\\\" tabindex=\\\"-1\\\" id=\\\"myModal\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-info\\\" role=\\\"document\\\">\\n    <form  #shareForm=\\\"ngForm\\\"  (ngSubmit)=\\\"UpdatePOPost()\\\">\\n      <div class=\\\"modal-content\\\">\\n        <div class=\\\"modal-header\\\">\\n          <h4 class=\\\"modal-title\\\">Update PO</h4>\\n          <button type=\\\"button\\\" class=\\\"close\\\" (click)=\\\"poModal.hide()\\\" aria-label=\\\"Close\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n          </button>\\n        </div>\\n        <div class=\\\"modal-body\\\">    \\n          <div class=\\\"card\\\">\\n              <div class=\\\"card-body\\\">\\n                <div class=\\\"form-group\\\">\\n                  <div class=\\\"input-group row\\\">\\n                    <label style=\\\"padding: 8px\\\" class=\\\"col-md-4\\\">Deal ID</label>                    \\n                    <input type=\\\"hidden\\\" id=\\\"id\\\" name=\\\"id\\\"  [(ngModel)]=\\\"pmodel.id\\\"  class=\\\"form-control\\\" disabled>\\n                    <input type=\\\"text\\\" id=\\\"ReqNo1\\\" name=\\\"ReqNo1\\\"  [(ngModel)]=\\\"pmodel.ReqNo1\\\"  class=\\\"form-control\\\" disabled>\\n                  </div>\\n                </div>                 \\n                  <div class=\\\"form-group\\\">\\n                    <div class=\\\"input-group row\\\">                    \\n                      <label style=\\\"padding: 7px\\\"  class=\\\"col-md-4\\\">PO Number</label>\\n                      <input type=\\\"text\\\" id=\\\"p_num\\\" name=\\\"p_num\\\" [(ngModel)]=\\\"pmodel.p_num\\\"  class=\\\"form-control\\\" placeholder=\\\"PO Number\\\">\\n                    </div>\\n                  </div> \\n              </div>\\n            </div>      \\n        </div>\\n        <div class=\\\"modal-footer\\\">\\n          <!-- <button type=\\\"button\\\" class=\\\"btn btn-sm btn-secondary\\\" (click)=\\\"shareModal.hide()\\\">Close</button>         -->\\n          <button type=\\\"submit\\\" class=\\\"btn btn-sm btn-success\\\" id=\\\"POButton\\\">Update</button>\\n        </div>\\n      </div><!-- /.modal-content -->\\n    </form>\\n    </div><!-- /.modal-dialog -->\\n  </div><!-- /.modal -->\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ApprovedStocksComponent } from './approved-stocks.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component : ApprovedStocksComponent,\n    data: {\n      title: 'approvedstock'\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ApprovedStocksRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZpZXdzL2FwcHJvdmVkLXN0b2Nrcy9hcHByb3ZlZC1zdG9ja3MuY29tcG9uZW50LmNzcyJ9 */\";","import { Component, OnInit, ViewChild, ÉµConsole } from '@angular/core';\nimport { RequirementService } from '../../_services/requirement.service';\nimport { Offer } from '../../_models/Offer';\nimport { AlertifyService } from '../../_services/alertify.service';\nimport { Subject } from 'rxjs';\nimport { ModalDirective } from 'ngx-bootstrap/modal';\nimport { DataTableDirective } from 'angular-datatables';\n\n@Component({\n  selector: 'app-approved-stocks',\n  templateUrl: './approved-stocks.component.html',\n  styleUrls: ['./approved-stocks.component.css']\n})\nexport class ApprovedStocksComponent implements OnInit {\n  model: any = {};\n  pmodel: any = {};\n  udmodel: any = {};\n  offers: Offer[];\n  @ViewChild(DataTableDirective) dtElement: DataTableDirective;\n  dtOptions: DataTables.Settings = {\n    pagingType: 'full_numbers',\n    pageLength: 25,\n    retrieve: true,\n    order: [[0, 'desc']]\n};\n  dtInstance: DataTables.Api;\n  isDtInitialized: boolean = false;\n  dtTrigger: Subject<Offer> = new Subject();\n  roleid: any =  Number(localStorage.getItem('RoleID'));\n  LoginUser: any =  localStorage.getItem('LoginUser');\n  @ViewChild('poModal') public infoModal: ModalDirective;\n  @ViewChild('UpdateDealModal') public UpdateDealModal: ModalDirective;\n\n  constructor(private alertify: AlertifyService, private requirementservice: RequirementService) { }\n\n  ngOnInit(): void {\n    this.loadDeals();\n  }\n\n  loadDeals() {\n    return this.requirementservice.getOffers().subscribe((offers: Offer[]) => {\n      if (this.roleid === 4) {\n        this.offers = offers.filter(proj => (proj.status !== 0 && proj.qty !== proj.dispatchqty\n          && proj.empId === Number(localStorage.getItem('UserId'))));\n      } else if (this.roleid === 7) {\n        this.offers = offers.filter(proj => (proj.status !== 0 && proj.purchaseqty !== proj.receiveqty\n          && proj.purchaseby !== null));\n      } else if (this.roleid === 8) {\n        this.offers = offers.filter(proj => (proj.status !== 0 && proj.receiveqty !== proj.dispatchqty\n          && proj.receiveby !== null));\n      } else {\n        this.offers = offers.filter(proj => (proj.status !== 0 && proj.qty !== proj.dispatchqty));\n      }\n      if (this.isDtInitialized) {\n        this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\n          dtInstance.destroy();\n          this.dtTrigger.next();\n        });\n      } else {\n        this.isDtInitialized = true;\n        this.dtTrigger.next();\n      }\n    }, error => {\n      this.alertify.error(error);\n    });\n  }\n  OpenUpdateDeals(ReqNo1, Id, Status, flag, cQty) {\n    this.udmodel.Id = Id;\n    this.udmodel.ReqNo1 = ReqNo1;\n    this.udmodel.Status = Status;\n    this.udmodel.flag = flag;\n    this.udmodel.cQty = cQty;\n    this.UpdateDealModal.show();\n  }\n  UpdateDealPost() {\n    if (!this.udmodel.Qty) {\n      this.alertify.error('Enter Qty');\n      return;\n    }\n    if (this.udmodel.Qty > this.udmodel.cQty) {\n      this.alertify.error('Invalid Qty');\n      return;\n    }\n    console.log(this.udmodel);\n    this.model = {Id : this.udmodel.Id, Status: this.udmodel.Status, Qty: this.udmodel.Qty, Flag: this.udmodel.flag,\n      EmpId: Number(localStorage.getItem('UserId'))};\n      console.log(this.model);\n      document.getElementById('UDButton').innerHTML = '<i class=\"fa fa-circle-o-notch mt-1 fa-lg fa-spin\"></i> Sending...';\n     (document.getElementById('UDButton') as HTMLButtonElement).disabled = true;\n    this.requirementservice.CloseDeals(this.model).subscribe(() => {\n      this.loadDeals();\n      document.getElementById('UDButton').innerHTML = 'Submit';\n      (document.getElementById('UDButton') as HTMLButtonElement).disabled = false;\n      this.alertify.success('Deal UpdateD');\n      this.UpdateDealModal.hide();\n    }, error => {\n      this.alertify.error(error);\n    });\n  }\n\n  CloseDeals(Id, Status, flag, buttonid) {\n    this.model = {Id : Id, Status: Status, Flag: flag, EmpId: Number(localStorage.getItem('UserId'))};\n    document.getElementById(buttonid + '_' + Id).innerHTML = '<i class=\"fa fa-circle-o-notch mt-1 fa-lg fa-spin\"></i> Processing...';\n    (document.getElementById(buttonid + '_' + Id) as HTMLButtonElement).disabled = true;\n\n    console.log(this.model);\n    this.requirementservice.CloseDeals(this.model).subscribe(() => {\n      this.loadDeals();\n        this.alertify.success('Deal ' + buttonid);\n    }, error => {\n      this.alertify.error(error);\n    });\n  }\n  OpenPO(id: any, req: any) {\n    this.pmodel.id = id;\n    this.pmodel.ReqNo1 = req;\n    this.infoModal.show();\n  }\n  UpdatePOPost() {\n    this.pmodel.po_by = Number(localStorage.getItem('UserId'));\n    if (!this.pmodel.p_num) {\n      this.alertify.error('Enter PO Number');\n      return;\n    }\n    document.getElementById('POButton').innerHTML = '<i class=\"fa fa-circle-o-notch mt-1 fa-lg fa-spin\"></i> Sending...';\n   (document.getElementById('POButton') as HTMLButtonElement).disabled = true;\n    this.requirementservice.UpdatePOPost(this.pmodel).subscribe(() => {\n      document.getElementById('POButton').innerHTML = 'Submit';\n     (document.getElementById('POButton') as HTMLButtonElement).disabled = false;\n      this.loadDeals();\n      this.infoModal.hide();\n      this.alertify.success('PO Number Updated Successfully');\n    }, error => {\n      this.alertify.error(error);\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DataTablesModule } from 'angular-datatables';\n\nimport { ApprovedStocksRoutingModule } from './approved-stocks-routing.module';\nimport { ApprovedStocksComponent } from './approved-stocks.component';\nimport { FormsModule } from '@angular/forms';\nimport { ModalModule } from 'ngx-bootstrap/modal';\n\n\n@NgModule({\n  declarations: [ApprovedStocksComponent],\n  imports: [\n    CommonModule,\n    ApprovedStocksRoutingModule,\n    ModalModule.forRoot(),\n    DataTablesModule,\n    FormsModule\n  ]\n})\nexport class ApprovedStocksModule { }\n"],"sourceRoot":"webpack:///"}