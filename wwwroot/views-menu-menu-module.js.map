{"version":3,"sources":["./src/app/views/menu/menu.component.html","./src/app/views/menu/menu-routing.module.ts","./src/app/views/menu/menu.component.css","./src/app/views/menu/menu.component.ts","./src/app/views/menu/menu.module.ts"],"names":[],"mappings":"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","file":"views-menu-menu-module.js","sourcesContent":["export default \"\\n    <div class=\\\"row\\\">\\n    <div class=\\\"col-md-6\\\">\\n        <div class=\\\"card\\\">\\n          <div class=\\\"card-header\\\">                     \\n            <div class=\\\"form-group\\\">\\n                <div class=\\\"input-group row\\\">\\n                  <label for=\\\"exampleSelect1\\\" class=\\\"col-lg-7\\\">Menu Setting</label>\\n                  <select class=\\\"form-control\\\" id=\\\"roleid\\\" [(ngModel)]=\\\"model.roleID\\\"  (ngModelChange)=\\\"loadMenu($event)\\\">\\n                    <option disabled selected=\\\"selected\\\" [value]=\\\"0\\\">Select Role</option>\\n                    <option *ngFor=\\\"let role of roles; let i = index\\\"  [value]=\\\"role.roleID\\\">                    \\n                      {{role.roleTitle}}\\n                    </option>\\n                  </select>\\n                </div>\\n              </div> \\n          </div>\\n          <div class=\\\"card-body\\\">\\n              <div *ngFor=\\\"let item of menus\\\" class=\\\"row\\\" style=\\\"margin: 8px -20px;\\\">\\n                <label for=\\\"exampleSelect1\\\" style=\\\"background-color: #062736;color:#08AB9E;font-weight:bold;line-height:27px;height: 31px;width:83%\\\">{{item.name}}</label>\\n               <div style=\\\"background-color: #062736;color:#08AB9E;font-weight: bold;height: 31px;padding: 0;width:17%\\\">\\n                <label class=\\\"switch switch-label switch-primary\\\" style=\\\"background-color: #062736;color:#08AB9E;font-weight: bold;height: 31px;padding: 0;width:54px\\\">\\n                    <input type=\\\"checkbox\\\" class=\\\"switch-input\\\" [checked]=\\\"item.is_active\\\"  (click)=\\\"activateMenu($event,item.id)\\\">\\n                    <span class=\\\"switch-slider\\\" data-checked=\\\"On\\\" data-unchecked=\\\"Off\\\"></span>\\n                </label>\\n              </div>\\n                <div *ngFor=\\\"let submenu of submenus\\\" class=\\\"col-md-11 mydiv{{item.parent_id}}\\\" >\\n                  <label *ngIf=\\\"submenu.parent_id === item.menu_id\\\" for=\\\"exampleSelect1\\\" class=\\\"col-md-11\\\">{{submenu.name}}</label>\\n                  <label *ngIf=\\\"submenu.parent_id === item.menu_id\\\" class=\\\"switch switch-label switch-primary\\\">\\n                      <input type=\\\"checkbox\\\" class=\\\"switch-input\\\" [checked]=\\\"submenu.is_active\\\"  (click)=\\\"activateMenu($event,submenu.id)\\\">\\n                      <span class=\\\"switch-slider\\\" data-checked=\\\"On\\\" data-unchecked=\\\"Off\\\"></span>\\n                  </label>\\n                </div>\\n              </div>\\n          </div>\\n        </div>\\n      </div><!--/.col-->\\n      <div class=\\\"col-md-6\\\">\\n          <div class=\\\"card\\\">\\n            <div class=\\\"card-header\\\">                     \\n              <div class=\\\"form-group\\\">\\n                  <div class=\\\"input-group row\\\">\\n                    <label for=\\\"exampleSelect1\\\" class=\\\"col-lg-7\\\">Manage Email Setting</label>\\n                    <select class=\\\"form-control\\\" id=\\\"roleid\\\" name=\\\"role_id\\\" [(ngModel)]=\\\"emaimodel.role_id\\\"  (ngModelChange)=\\\"loadEmail($event)\\\">\\n                      <option disabled selected=\\\"selected\\\" [value]=\\\"0\\\">Select Role</option>\\n                      <option *ngFor=\\\"let role of roles; let i = index\\\"  [value]=\\\"role.roleID\\\">                    \\n                        {{role.roleTitle}}\\n                      </option>\\n                    </select>\\n                  </div>\\n                </div> \\n            </div>\\n            <div class=\\\"card-body\\\">\\n                <div *ngFor=\\\"let emailsetting of emailsettings\\\" class=\\\"row\\\" style=\\\"border-bottom: 1px solid #e6d9d9;margin: 8px -20px;\\\">\\n                  <label for=\\\"exampleSelect1\\\" class=\\\"col-md-11\\\">{{emailsetting.e_type}}</label>\\n                  <label class=\\\"switch switch-label switch-primary\\\">\\n                      <input type=\\\"checkbox\\\" class=\\\"switch-input\\\" [checked]=\\\"emailsetting.status\\\"  (click)=\\\"activateEmail($event,emailsetting.id)\\\">\\n                      <span class=\\\"switch-slider\\\" data-checked=\\\"On\\\" data-unchecked=\\\"Off\\\"></span>\\n                  </label>\\n              </div>\\n            </div>\\n          </div>\\n        </div><!--/.col-->      \\n      </div>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { MenuComponent } from './menu.component';\n\n\nconst routes: Routes = [{\n    path: '',\n    component: MenuComponent,\n    data: {\n      title: 'Menu'\n    }\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class MenuRoutingModule { }\n","export default \".switch-slider {\\r\\n    position: relative;\\r\\n    display: block;\\r\\n    height: inherit;\\r\\n    cursor: pointer;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #c8ced3;\\r\\n    transition: 0.15s ease-out;\\r\\n    border-radius: 0rem;\\r\\n}\\r\\n.switch-primary .switch-input:checked + .switch-slider {\\r\\n    background-color: #08AB9E;\\r\\n    border-color: #08AB9E;\\r\\n    color: #062736;\\r\\n}\\r\\n.card-header { \\r\\n    background: #062736!important;\\r\\n    color: #08ab9e!important;\\r\\n}\\r\\n.card {\\r\\n    border: 2px solid #062736;\\r\\n    border-radius: 0px;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld3MvbWVudS9tZW51LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7SUFDbEIsY0FBYztJQUNkLGVBQWU7SUFDZixlQUFlO0lBQ2Ysc0JBQXNCO0lBQ3RCLHlCQUF5QjtJQUN6QiwwQkFBMEI7SUFDMUIsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSx5QkFBeUI7SUFDekIscUJBQXFCO0lBQ3JCLGNBQWM7QUFDbEI7QUFDQTtJQUNJLDZCQUE2QjtJQUM3Qix3QkFBd0I7QUFDNUI7QUFDQTtJQUNJLHlCQUF5QjtJQUN6QixrQkFBa0I7QUFDdEIiLCJmaWxlIjoic3JjL2FwcC92aWV3cy9tZW51L21lbnUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zd2l0Y2gtc2xpZGVyIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgaGVpZ2h0OiBpbmhlcml0O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjOGNlZDM7XHJcbiAgICB0cmFuc2l0aW9uOiAwLjE1cyBlYXNlLW91dDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDByZW07XHJcbn1cclxuLnN3aXRjaC1wcmltYXJ5IC5zd2l0Y2gtaW5wdXQ6Y2hlY2tlZCArIC5zd2l0Y2gtc2xpZGVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwOEFCOUU7XHJcbiAgICBib3JkZXItY29sb3I6ICMwOEFCOUU7XHJcbiAgICBjb2xvcjogIzA2MjczNjtcclxufVxyXG4uY2FyZC1oZWFkZXIgeyBcclxuICAgIGJhY2tncm91bmQ6ICMwNjI3MzYhaW1wb3J0YW50O1xyXG4gICAgY29sb3I6ICMwOGFiOWUhaW1wb3J0YW50O1xyXG59XHJcbi5jYXJkIHtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkICMwNjI3MzY7XHJcbiAgICBib3JkZXItcmFkaXVzOiAwcHg7XHJcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { LoadspecsService } from '../../_services/loadspecs.service';\nimport { Menu } from '../../_models/Menu';\nimport { AlertifyService } from '../../_services/alertify.service';\nimport { RoleService } from '../../_services/role.service';\nimport { Role } from '../../_models/Role';\nimport { EmailSetting } from '../../_models/EmailSetting';\n\n@Component({\n  selector: 'app-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.css']\n})\nexport class MenuComponent implements OnInit {\n  model: any = {};\n  emaimodel: any = {};\n  setrole: string;\n  menus: Menu[];\n  submenus: Menu[];\n  roles: Role[];\n  emailsettings: EmailSetting[];\n\n  constructor(private loadspecsService: LoadspecsService, private roleService: RoleService,\n                   private alertify: AlertifyService) { }\n\n  ngOnInit(): void {\n    this.model.roleID = '0';\n    this.loadRoles();\n  }\n  loadMenu(id) {\n    return this.loadspecsService.getallmenus().subscribe((menus: Menu[]) => {\n      this.menus = menus.filter(proj => (proj.role_id === Number(id) && proj.parent_id === 0));\n      this.submenus = menus.filter(proj => (proj.role_id === Number(id) && proj.parent_id !== 0));\n      console.log(this.menus);\n      console.log(this.submenus);\n    });\n  }\n  loadEmail(id) {\n    return this.loadspecsService.getemailsetting().subscribe((emailsettings: EmailSetting[]) => {\n      this.emailsettings = emailsettings.filter(proj => (proj.role_id === Number(id)));\n    });\n  }\n  loadRoles() {\n    return this.roleService.getRoles().subscribe((roles: Role[]) => {\n      this.roles = roles;\n      console.log(this.roles);\n    }, error => {\n      this.alertify.error(error);\n    });\n  }\n  activateMenu(event, id) {\n    this.setrole  = this.model.roleID;\n    this.model = {id : id, is_active: event.target.checked};\n    console.log(this.model);\n    this.loadspecsService.activateMenu(this.model).subscribe(() => {\n        this.model.roleID = this.setrole;\n        this.loadMenu(this.setrole);\n    }, error => {\n      this.alertify.error(error);\n    });\n  }\n  activateEmail(event, id) {\n    this.setrole  = this.emaimodel.role_id;\n    if (event.target.checked === true) {\n      this.emaimodel = {id : id, status: 1};\n    } else if (event.target.checked === false) {\n      this.emaimodel = {id : id, status: 0};\n    }\n    this.loadspecsService.activateEmail(this.emaimodel).subscribe(() => {\n        this.loadEmail(this.setrole);\n        this.emaimodel.role_id = this.setrole;\n    }, error => {\n      this.alertify.error(error);\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MenuRoutingModule } from './menu-routing.module';\nimport { MenuComponent } from './menu.component';\nimport { FormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [MenuComponent],\n  imports: [\n    CommonModule,\n    MenuRoutingModule,\n    FormsModule\n  ]\n})\nexport class MenuModule { }\n"],"sourceRoot":"webpack:///"}